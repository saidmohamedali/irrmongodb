
@{
    ViewBag.Title = Model.IRRDefinition.Name;
}

<h2>@ViewBag.Title</h2>
<p>@Model.IRRDefinition.Description</p>
<p>
    @if (null != Model.IRRDefinition.Allocations)
    {
        foreach (var alloc in Model.IRRDefinition.Allocations)
        {
            <a href="@Url.Action("IRRDefinitions", "Home", new { allocation = alloc })">@alloc.Name</a>
        }
    }
</p>

<h3>Allocations</h3>
@if (null != Model.IRRDefinition.Allocations)
{
    foreach (var allocation in Model.IRRDefinition.Allocations)
    {
    <h5>@allocation.Name</h5>
    <p>@allocation.Description</p>
    }

}
<h3>Add New Allocation</h3>
@using (Html.BeginForm("NewAllocation", "Home"))
{
    <input type="hidden" name="IRRDefinitionId" value="@Model.IRRDefinition.Id" />
    <label name="Name">Name:</label>
    <textarea name="Name"></textarea>
    <label name="Description">Description:</label>
    <textarea name="Description"></textarea>
    <p>
        <button type="submit" class="btn btn-default">Submit &raquo;</button>
    </p>
}

<h3>Add New Ancestor</h3>
@using (Html.BeginForm("NewAncestor", "Home"))
{
    <input type="hidden" name="IRRDefinitionId" value="@Model.IRRDefinition.Id" />
    <label name="Name">Ancestor Name</label>
    <textarea name="AncestorName"></textarea>
    <p>
        <button type="submit" class="btn btn-default">Submit &raquo;</button>
    </p>
}
