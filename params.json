{"name":"IRR Calculation Using Mongodb and C# (.net)","tagline":"IRR, mongodb, c#, .net, mongodb driver","body":"### IRR Calculation Principles.\r\nThe Internal Rate of Return (IRR) materializes the rate of return generated for all uses of an authorization envelope implementation (financial headings and headings accessories) , that is to say, the return flow income and return of capital that was made ​​available to the client. This is called Global IRR(IRRG ) . It is calculated such that the present value (NPV) at the rate of outflow ( disbursement of capital) inflows ( principal and income attached ) equalizes .\r\nThat is to solve the folowing equation Q1:\r\n\r\n![IRR Equation](images/equation_irr.png)\r\n<dl>\r\n<dt>with:</dt>\r\n<dd>IRRG = overall internal rate of return</dd>\r\n<dd>Fs (i) = net amount in currency of the outgoing stream No. i</dd>\r\n<dd>n = number of outflows</dd>\r\n<dd>Fe (i) = net amount in currency of the incoming stream No. i</dd>\r\n<dd>m = number of inflows</dd>\r\n<dd>di = the date of the incoming or outgoing stream No. i</dd>\r\n<dd>d0 = the departure date of the measure: date of signing the contract.</dd>\r\n<dd>base = reference period TRIG expression in rates , the year in days . The value is set to 365 or 366 by year of di .</dd>\r\n<dd>VANs = Present Value Net outflows</dd>\r\n<dd>Vane = Present Value Net inflows</dd>\r\n\r\n</dl>\r\n#### Solving the equation Q1\r\n\r\nResolution Q1 is only feasible by a possible value of iteration IRRG in this equation.\r\nIn order to achieve a result and limit the number of test, it is necessary to introduce the following concepts:\r\n\r\n<dl>\r\n<dt>Margin of error : ε</dt>\r\n<dt>IRRG Lower Bound: LORRG</dt>\r\n<dt>IRRG Upper Bound: UPIRRG</dt>\r\n</dl>\r\n\r\n##### Margin of Error\r\nIt defines the accuracy in which the calculation is performed in the Q1 equation. \r\n<dl>It is defined by the following relationship:\r\n<dt>|VANs| - |VANe |< ε </dt>\r\n</dl>\r\n\r\n##### IRRG Lower and upper Bound\r\n\r\nThe objective of these two terminals is to frame the IRRG value to rapidly converge to the result.\r\nThe longer the interval between LOIRRG and UPIRRG is low with LOIRRG ≤ IRRG ≤ UPIRRG the more convergence will be fast . It is therefore necessary to fix the two terminals by the most appropriate values.\r\nThe research by dichotomy IRRG optimizes the resolution of the equation.\r\n\r\n### IRR Calculation Schema Design\r\nIIR calculations go through the collection of different types of flows. The nature of the stream sets the inbound or outbound direction of the latter.\r\nOutflows are by definition disbursements  and Inflows are attached repayments and income.\r\nEach flow belongs by nature to an allocation represented by the following concepts:\r\n- expenditure\r\n- bills\r\n- Accessories items\r\n- Financial headings\r\n- Bonus flows\r\n- PEE flow\r\n\r\nIn MongoDB we need a collection which contains all flows, so let call this collections flows.\r\nWe need also an IRR definition collection which contains IRR Name and Allocations. As each IRR definition will contain its allocations, it can be calculated by allocation and we easily see dependencies between IRR Definitions which can be represented as a Tree, for that we just need an ancesstor field into IRR definition collection.\r\n\r\n![IRR Mongodb Schema Design](images/IRR_MONGODB_SCHEMA.png)\r\n\r\n\r\nConsider the following document that captures sample of IRR definition:\r\n\r\n### Application Object Model \r\n\r\n#### CRUD Operations using MongoDB.Net Driver \r\n\r\n#### Pre-requisites\r\nPlease make sure all applications listed bellow are up-and-running on your machine, if not please feel free to get it from the correspondent editor website.\r\n\r\n\r\nFor this solution, I used:\r\n[Visual studio Community 2015](https://www.visualstudio.com/en-us/products/visual-studio-community-vs.aspx)\r\n[Download MongoDB 3.0](https://www.mongodb.org/downloads)\r\n\r\n\r\nFor more reading about MongoDB .net Driver please visit :[C# and .NET MongoDB Driver]http://docs.mongodb.org/ecosystem/drivers/csharp/)\r\n\r\nIf you prefer to not use the automatic generator, push a branch named `gh-pages` to your repository to create a page manually. In addition to supporting regular HTML content, GitHub Pages support Jekyll, a simple, blog aware static site generator. Jekyll makes it easy to create site-wide headers and footers without having to copy them across every page. It also offers intelligent blog support and other advanced templating features.\r\n\r\n### Authors and Contributors\r\nYou can @mention a GitHub username to generate a link to their profile. The resulting `<a>` element will link to the contributor’s GitHub Profile. For example: In 2007, Chris Wanstrath (@defunkt), PJ Hyett (@pjhyett), and Tom Preston-Werner (@mojombo) founded GitHub.\r\n\r\n### Support or Contact\r\nHaving trouble with Pages? Check out our [documentation](https://help.github.com/pages) or [contact support](https://github.com/contact) and we’ll help you sort it out.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}